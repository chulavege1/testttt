{"version":3,"sources":["webpack:///./src/Code/Components/Content/Dashboard/Dashboard.js","webpack:///./src/Code/Components/base/UsdPrice/UsdPrice.js","webpack:///./src/Code/helpers/symbol_formated/numberWithPoints.js","webpack:///./src/Code/Components/Content/poolData-helpers/AaveAction.jsx"],"names":["Dashboard","lendingPool","injectedProvider","selectedProvider","web3Modal","loadWeb3Modal","useState","arrPrices","setArrPrices","arrBorrowPrices","setArrBorrowPrices","hpFactor","onFocusSetNewHealthFactor","userAccountDataFormated","setUserAccountDataFormated","useContentContextState","setUserAccountData","setReserveTokensContext","setPriceOracleETH","setPoolDataState","contracts","setUserAssetDataContext","assetData","priceOracleETH","reserveTokens","userAccountData","isMobile","useStaticPoolDataContext","setIsMobileWidthVersion","lendingPoolContract","totalDebtInUsd","Number","Web3","utils","fromWei","totalDebtETH","toString","toFixed","console","log","signer","getSigner","allowedFilteredDeposit_Borrow_Info","useEffect","userFilteredAccData","Object","keys","filter","key","includes","reduce","obj","isLoad","setLoaded","formattedHealthFactor","BigNumber","healthFactor","_hex","ROUND_DOWN","className","cachedProvider","length","slice","style","position","fontSize","ltv","every2NumberPoint","assetsActiveLength","availableBorrowsETH","justifyContent","minWidth","map","item","index","RAY","resultForAprSumm","liquidityRate","depositAPR","summCurrentBalance","decimals","_reserveCurrentBalanceData","currentATokenBalance","priceTokenInEth","priceOracle","resultSummInETH","symbol","usageCollateralAfterSwitch","usageAsCollateralEnabled","userTotalCollateralInEth","totalCollateralETH","totalCollateralAfterSwitchETH","currentLT","currentLiquidationThreshold","currentUserTotalDebt","healthFactorAfterSwitch","calculateHealthFactorFromBalancesBigUnits","priceOneToken","resultSummForAggregatedPrice","prevState","substring","showImg","showSpan","symbolChild","directory","classNameChild","currentBalanceForUserTokenChildInWei","valueCalculate","tableBool","offUsdSymbols","width","onMouseLeave","onMouseEnter","type","buttonClassNameChild","swapModeEnabled","usageAsCollateral","apyType","height","display","alignItems","right","color","variableBorrowAPR","variableBorrowRate","stableBorrowAPR","stableBorrowRate","ethToWeiProp","currentVariableDebt","currentStableDebt","selectBorrowRole","resultSummForBorrowPrice","swapBorrowRateModeChild","stableRateLastUpdated","action","isBorrowZero","walletBalanceInHumanityDecimals","undefined","React","memo","require","UsdPrice","resultPriceFromOracleInUsdCurrentUserBalance","valCalcPriceOracle","x","replace","AaveAction","amountFromRouteUrl","assetPrice","setLiveAsset","styleChild","borrowType","repayMode","underluing","useParams","apyTypeM","setApyTypeM","buttonText","setButtonText","actionTransactionDataState","setTransactionHash","transactionHash","LENDING_POOL_ADDRESS","handleModalOk","a","mathOptionWithDec","userAmountSumm","toWei","_amount","getAddress","_address","erc20TokenContract","ethers","Contract","IErc20","_referralCode","deposit","tokenAddress","hash","withdraw","borrow","repay","setUserUseReserveAsCollateral","swapBorrowRateMode","approve","_transactionHash","modal","top","left","background","onClick"],"mappings":"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","file":"js/7.index.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\n// import { useStaticPoolDataContext } from '~GRAPHQL/static_graph-pool-data-provider_formated';\r\nimport AaveRouteActions from '../poolData-helpers/AaveRouteActions'\r\nimport { useStaticPoolDataContext } from '~GRAPHQL/static_graph-pool-data-provider_formated'\r\n// import { useAaveData } from \"../poolData-helpers/AaveData\"\r\nimport AaveAction from '../poolData-helpers/AaveAction'\r\n// Big number.\r\nimport Loader from '~BASE/loader/loader'\r\n\r\nimport { formatUnits } from \"@ethersproject/units\"\r\n import BigNumber from 'bignumber.js'\r\nimport Web3 from 'web3'\r\nimport UsdPrice from '../../base/UsdPrice/UsdPrice'\r\nimport Icon from '../../base/icon/Icon'\r\nimport RedrawTimer from '~BASE/RedrawTimer/RedrawTimer'\r\n\r\n//\r\nimport PlzConnectWalletMan from '../../base/failures/PlzConnectWalletMan'\r\nimport BalanceIsStatus from '../../base/failures/BalanceIsStatus'\r\n//\r\nimport { every2NumberPoint } from '~HELPERS/symbol_formated/numberWithPoints'\r\nimport { calculateHealthFactorFromBalancesBigUnits } from '@aave/protocol-js'\r\n//\r\nimport { useContentContextState } from '~/Code/Components/content_context';\r\n// =>\r\nconst Dashboard = ({ lendingPool, injectedProvider, selectedProvider, web3Modal, loadWeb3Modal }) => {\r\n//\r\n\tconst [arrPrices, setArrPrices] = useState([])\r\n\tconst [arrBorrowPrices, setArrBorrowPrices] = useState([])\r\n\r\n\r\n\tlet [hpFactor, onFocusSetNewHealthFactor] = useState()\r\n\tlet [userAccountDataFormated, setUserAccountDataFormated] = useState()\r\n\r\n\tconst { setUserAccountData, setReserveTokensContext,\r\n\t\tsetPriceOracleETH, setPoolDataState, setUserAssetDataContext, contracts } = useContentContextState();\r\n\tconst { assetData } = setPoolDataState\r\n\tconst { priceOracleETH } = setPriceOracleETH\r\n\tconst { reserveTokens } = setReserveTokensContext\r\n\tconst { userAccountData } = setUserAccountData\r\n\r\n\tconst { setIsMobileWidthVersion } = useStaticPoolDataContext()\r\n\tconst { isMobile } = setIsMobileWidthVersion\r\n\r\n\tconst { lendingPoolContract } = contracts\r\n\t\r\n\tlet totalDebtInUsd = userAccountData && Number( Web3.utils.fromWei((userAccountData.totalDebtETH.toString() + '0'), 'gwei') ).toFixed(2)\r\n\tlet totalDebtInETH = totalDebtInUsd && priceOracleETH && Number(totalDebtInUsd) / priceOracleETH\r\n\r\n\tconsole.log('userAccountData123', userAccountData && Number(totalDebtInUsd) / priceOracleETH )\r\n\tconsole.log('userAssetDatadadsdfromdashboards', userAccountData)\r\n\r\n\tlet signer = selectedProvider?.getSigner()\r\n\r\n//\r\n\tconst allowedFilteredDeposit_Borrow_Info = [ 'availableBorrowsETH', 'currentLiquidationThreshold', 'healthFactor', 'ltv', 'totalCollateralETH', 'totalDebtETH' ]\r\n//\r\n\tuseEffect(() => {\r\n\t\tif(userAccountData){\r\n\t\t\tconst userFilteredAccData = Object.keys(userAccountData)\r\n\t\t\t\t.filter(key => allowedFilteredDeposit_Borrow_Info.includes(key))\r\n\t\t\t\t.reduce((obj, key) => {\r\n\t\t\t\t\tobj[key] = userAccountData[key].toString()\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}, {});\r\n\t\t\t// console.log('userFilteredAccData', userFilteredAccData)\r\n\t\t\tsetUserAccountDataFormated(userFilteredAccData)\r\n\t\t}\r\n\t}, [userAccountData, reserveTokens])\r\n\r\n// Other ui helpers.\r\n\t// let resultBoolForUserBalance\r\n\t// if(assetData){\r\n\t// \tfor(let assetItem of assetData){\r\n\t// \t\tresultBoolForUserBalance = ((assetItem._reserveCurrentBalanceData.currentATokenBalance.toString() !== '0') || (assetItem?._reserveCurrentBalanceData.currentStableDebt.toString() !== '0') )\r\n\t// \t}\r\n\t// }\r\n//\r\n\r\n\tconst [isLoad, setLoaded] = useState(false)\r\n    useEffect(() => {\r\n        setLoaded(true)\r\n    }, [])\r\n\r\n\r\n//\r\n    let formattedHealthFactor = userAccountData && Number(BigNumber(userAccountData?.healthFactor._hex + '0000000000').toFixed(2, BigNumber.ROUND_DOWN));\r\n\r\n\tconsole.log('userAccdasdasdoun', userAccountData)\r\n//\r\n\t\r\n\treturn (\r\n\r\n\t\t<>\r\n\t\t\t<div className={`${ isLoad  ? 'active_block' : 'hidden_block' }`}>\r\n\r\n\t\t{ injectedProvider && web3Modal.cachedProvider.toString().length > '0' \r\n\t\t\t\r\n\t\t\t?\r\n\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<div className=\"dashboard__body dashboard__body--over row-flex flex-col\">\r\n\r\n\t\t\t\t\t\t<div className='col card mb-30'>\r\n\t\t\t\t\t\t\t<div className=\"card__inner--dashboard inner-dashboard\">\r\n\r\n\t\t\t\t\t\t\t\t<RedrawTimer />\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"inner-dashboard__left\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"card__top card-top\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-top__left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"value\">Deposit information</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n \r\n\t\t\t\t\t\t\t\t\t<div className=\"inner-dashboard__content\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"inner-dashboard__list inner-dashboard__list--deposit\">\r\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"inner-dashboard__item-deposit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md\">Aggregated balance:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{typeof(arrPrices) === 'number' ? (+arrPrices?.toFixed(2) + ' $') : '-'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"inner-dashboard__right\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"card__top card-top\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-top__left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"value\">Borrow information</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"inner-dashboard__content\">\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"inner-dashboard__list inner-dashboard__list--borrow\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"inner-dashboard__item posR\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tHealth factor: \r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='title title--green'>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserAccountDataFormated && userAccountData?.healthFactor._hex !== '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? Number(formattedHealthFactor.toString().slice(0, 10)).toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '-' \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                                <div style={{ position: 'absolute'}} className={`title title--green ${hpFactor ? 'modal-hp-before' : 'opacity0'}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ hpFactor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style={{fontSize: '16px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{'Current = ' + Number(formattedHealthFactor.toString().slice(0, 10)).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style={{fontSize: '16px'}} className={ hpFactor >= 1 \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? hpFactor >= 1.5\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? ` color-green  flex-end`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: `color-yellow flex-end` \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: `color-red flex-end`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{('After switch = ' + hpFactor)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* Dashboard header */}\r\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"inner-dashboard__item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md\">You borrowed:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{userAccountDataFormated && userAccountDataFormated.totalDebtETH !== '0'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// <UsdPrice \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tasd={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tonlyAssetPrice={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \ttableBool={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tdecimals={18}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \toffUsdSymbols={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tvalueCalculate={userAccountData.totalDebtETH}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tselectedProvider={selectedProvider}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//   />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(arrBorrowPrices).toFixed(2) + ' $ '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '-'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <li className=\"inner-dashboard__item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md\">Your collateral:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{userAccountDataFormated && userAccountDataFormated.totalCollateralETH !== '0' \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <UsdPrice decimals={18} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttableBool={false} valueCalculate={userAccountDataFormated.totalCollateralETH} selectedProvider={selectedProvider} /> \r\n\t\t\t\t\t\t\t\t \t\t\t\t\t\t: '-'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</li> */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"inner-dashboard__item\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCurrent LTV:\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*  */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{userAccountDataFormated && userAccountDataFormated.ltv !== '0' \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? every2NumberPoint(userAccountDataFormated.ltv) + ' %' \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '-'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{/* fix there */}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <li className=\"inner-dashboard__item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md\">Borrowing power used:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{userSummaryData\r\n        \t\t\t\t\t\t\t\t\t\t\t\tsetAssetData([])\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? (every2NumberPoint(collateralUsagePercent.substring(2, 6)) + ' %') \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <span>-</span> }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</li> */}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* fix there */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <li className=\"inner-dashboard__item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn--trans btn--small modal-trigger\" modal-trigger=\"modal-3\">Details</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</li> */}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"inner-dashboard__progress inner-dashboard__progress--borrow\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <div className=\"progress\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md mb-5\">Borrow composition</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"line-bar\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"line-bar__wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"line-bar__line\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"line-bar__fill line-bar__fill--blue\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"progress\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md mb-5\">Collateral composition</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"line-bar\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"line-bar__wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"line-bar__line\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"line-bar__fill line-bar__fill--dark\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* <div className=\"col col--12 hidden-lg-p\">\r\n\t\t\t\t\t\t\t<div className=\"switch-wrapper switch-wrapper--stake\">\r\n\t\t\t\t\t\t\t\t<div className=\"switch switch--light\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"switch__btn active\">Your deposits</button>\r\n\t\t\t\t\t\t\t\t\t<button className=\"switch__btn\">Your borrows</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{ \t\r\n\t\t\t\t\t\t\tassetData?.length === setPoolDataState.assetsActiveLength \r\n\t\t\t\t\t\t\t&& userAccountData?.availableBorrowsETH.toString() !== '0'  \r\n\r\n\t\t\t\t\t\t\t?\r\n\r\n\t\t\t\t\t\t<div className={`col col--board-table card grow-1 `}> \r\n\t\t\t\t\t\t\t<div className=\"board-table\">\r\n\r\n\t\t\t\t\t\t\t<RedrawTimer />\r\n\r\n\t\t\t\t\t\t\t{!isMobile ? \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"board-table__header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"board-table__row board-table__row--header\">\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ justifyContent: 'start' }} className=\"board-table__col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md label--dark\">Deposit</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md label--dark\">Current balance</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md label--dark\">Deposit APR</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"label label--md label--dark\">Use Collateral</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div style={{minWidth: '210px'}} className=\"board-table__col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div  className=\"label label--md label--dark\">Actions</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t: ''\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t{/*  Deposits items render  */}\r\n\t\t\t\t\t\t\t\t{ assetData.map((item, index) => {\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tlet RAY = 10 ** 27\r\n\t\t\t\t\t\t\t\t\tlet resultForAprSumm = item.liquidityRate.toString()\r\n\t\t\t\t\t\t\t\t\tlet depositAPR = Number((+resultForAprSumm / RAY * 100)) === 0\r\n\t\t\t\t\t\t\t\t\t\t? '0'\r\n\t\t\t\t\t\t\t\t\t\t: Number((+resultForAprSumm / RAY * 100)).toFixed(4)\r\n\t\t\t\t\t\t\t\t\t// let depositAPY = (((1 + (depositAPR / 31536000)) ^ 31536000) - 1)\r\n\t\t\t\t\t\t\t\t// Summ for user deposits balance.\r\n\r\n\t\t\t\t\t\t\t\t\tlet mathOptionWithDec = item.decimals === 18\r\n\t\t\t\t\t\t\t\t\t\t? 'ether' \r\n\t\t\t\t\t\t\t\t\t\t: item.decimals === 8 \r\n\t\t\t\t\t\t\t\t\t\t\t? 'gwei' \r\n\t\t\t\t\t\t\t\t\t\t\t: 'mwei'\r\n\r\n\t\t\t\t\t\t\t\t\tlet summCurrentBalance = item ?\r\n\t\t\t\t\t\t\t\t\t\t+item.decimals === 18 \r\n\t\t\t\t\t\t\t\t\t\t\t? Web3.utils.fromWei(item._reserveCurrentBalanceData.currentATokenBalance.toString(), 'ether')\r\n\t\t\t\t\t\t\t\t\t\t\t: +item.decimals === 6\r\n\t\t\t\t\t\t\t\t\t\t\t\t? Web3.utils.fromWei(item._reserveCurrentBalanceData.currentATokenBalance.toString(), 'mwei')\r\n\t\t\t\t\t\t\t\t\t\t\t\t: Web3.utils.fromWei((item._reserveCurrentBalanceData.currentATokenBalance.toString() + '0'), 'gwei')\r\n\t\t\t\t\t\t\t\t\t\t: 0\r\n\r\n\t\t\t\t\t\t\t\t\tlet priceTokenInEth = item.priceOracle\r\n\t\t\t\t\t\t\t\t\t\t? Number( Web3.utils.fromWei((item.priceOracle.toString()), 'ether') )\r\n\t\t\t\t\t\t\t\t\t\t: 0\r\n\r\n\t\t\t\t\t\t\t\t\tlet resultSummInETH = summCurrentBalance * priceTokenInEth\r\n\t\t\t\t\t\t\t\t\tconsole.log('priceTokenInEth', priceTokenInEth, item.symbol)\r\n\r\n\t\t\t\t\t\t\t\t\tlet usageCollateralAfterSwitch = !item.usageAsCollateralEnabled // Collateral Usage (true || false)\r\n\t\t\t\t\t\t\t\t\tlet userTotalCollateralInEth = userAccountData && new BigNumber(Web3.utils.fromWei(userAccountData.totalCollateralETH._hex.toString(), 'ether')) // User collateral cost in eth\r\n\r\n\t\t\t\t\t\t\t\t\tconst totalCollateralAfterSwitchETH = userAccountData &&\r\n\t\t\t\t\t\t\t\t\t\tuserTotalCollateralInEth[\r\n\t\t\t\t\t\t\t\t\t\t\tusageCollateralAfterSwitch ? 'plus' : 'minus'\r\n\t\t\t\t\t\t\t\t\t\t](resultSummInETH);\r\n\t\t\t\t\t\t\t\t\tlet currentLT = Number('0.' + userAccountData?.currentLiquidationThreshold.toString()).toFixed(2) // CHECK THERE CAN DO BUG\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\tlet currentUserTotalDebt = ( Number(arrBorrowPrices) / priceOracleETH ) \r\n\t\t\t\t\t\t\t\t\tlet healthFactorAfterSwitch = userAccountData && calculateHealthFactorFromBalancesBigUnits(\r\n\t\t\t\t\t\t\t\t\t\t+totalCollateralAfterSwitchETH,\r\n\t\t\t\t\t\t\t\t\t\tcurrentUserTotalDebt,\r\n\t\t\t\t\t\t\t\t\t\t+currentLT\r\n\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\tlet priceOneToken = \r\n\t\t\t\t\t\t\t\t\t\tNumber( priceOracleETH * Web3.utils.fromWei(item.priceOracle.toString(), 'ether')  \r\n\t\t\t\t\t\t\t\t\t\t// : Number( Web3.utils.fromWei((item.priceOracle.toString() + '0'), 'gwei') \r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t\tlet resultSummForAggregatedPrice = summCurrentBalance * priceOneToken\r\n\t\t\t\t\t\t\t\t\tuseEffect(() => {\r\n\t\t\t\t\t\t\t\t\t\tif(resultSummForAggregatedPrice) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetArrPrices((prevState) => +prevState + +resultSummForAggregatedPrice)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} ,[resultSummForAggregatedPrice])\r\n\r\n\t\t\t\t\t\t\t\t\tconsole.log('resultSummForAggregatedPrice', summCurrentBalance, priceOneToken, item.symbol, resultSummForAggregatedPrice)\r\n\t\t\t\t\t\t\t\t\tsummCurrentBalance * priceOneToken !== 0 \r\n\t\t\t\t\t\t\t\t\t? console.log('check123', summCurrentBalance * priceOneToken, item.symbol)\r\n\t\t\t\t\t\t\t\t\t: ''\r\n\r\n\t\t\t\t\t\t\t\t\thealthFactorAfterSwitch = userAccountData && healthFactorAfterSwitch.toString().substring(0, 4)\r\n\r\n\t\t\t\t\t\t\t\t\tconsole.log('asdasqweqweqwe', item)\r\n\r\n\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\titem._reserveCurrentBalanceData.currentATokenBalance.toString() > '0' &&\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"board-table__row deposits\">\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__col board-table__col--first\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon showImg={true} showSpan={true} symbolChild={item.symbol} directory={'/assets-main'} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Symbol */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <AaveRouteActions symbol={item.symbol} type={item.symbol} assetData={item} className=\"\" ></AaveRouteActions> */}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ isMobile ? <p>Current balance</p> : '' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-item__block-val table-value\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* // Current balance for token */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p className='table-value table-value--dark mb-8'>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsummCurrentBalance.toString().substring(0, 6)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}</p> */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<UsdPrice\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassNameChild='table-value'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol={item.symbol}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals={+item.decimals}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentBalanceForUserTokenChildInWei={summCurrentBalance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueCalculate={item.priceOracle.toString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedProvider={selectedProvider}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttableBool={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toffUsdSymbols={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{isMobile ? <p>Deposit APR</p> : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-item__block-val table-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <span className=\"table-value table-value--red\">{depositAPR.toString().substring(0, 4) + ' %'}</span> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"table-value table-value--red\">{depositAPR + ' %'}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__col\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{isMobile ? <p style={{width:'105%'}}>Use Collateral</p> : ''}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='board-table__wraper'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__switch\"\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => onFocusSetNewHealthFactor(null) }\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(+userAccountData?.totalDebtETH === 0){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonFocusSetNewHealthFactor(healthFactorAfterSwitch)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AaveAction\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='usage-as-collateral'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuttonClassNameChild={` ${ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.usageAsCollateralEnabled === false \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `pointerEventsNone switch flex-center` \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'switch__btn active' \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} `}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tassetData={item}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsigner={signer}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tswapModeEnabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlendingPoolContract={lendingPoolContract}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlendingPool={lendingPool}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserAccountData={userAccountData}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tusageAsCollateralEnabled={item?.usageAsCollateralEnabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tusageAsCollateral={item?._reserveCurrentBalanceData.usageAsCollateralEnabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tapyType={item?._reserveCurrentBalanceData.usageAsCollateralEnabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__col board-table__col--last\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ isMobile\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? <p>Actions</p> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"board-table__buttons\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AaveRouteActions type='deposit' assetData={item} classNameChild={'btn btn--red btn--small'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {/* <img src=\"img/assets-main/001.svg\" alt=\"\" height=\"35\" width=\"35\"> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* </img> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</AaveRouteActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AaveRouteActions type='withdraw' assetData={item} classNameChild={'btn btn--trans btn--small'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {/* <img src=\"img/assets-main/001.svg\" alt=\"\" height=\"35\" width=\"35\"> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* </img> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</AaveRouteActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t: userAccountData?.healthFactor._hex !== \"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\" &&\r\n\t\t\t\t\t\t\t\t\t\t<div className='card'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ height: '200px', width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'relative' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ position: 'absolute', right: '50%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"col col--board-table card borrows grow-1\">\r\n\t\t{assetData.length !== 0 && +userAccountData?.totalDebtETH !== 0 ?\r\n    \t<div className=\"board-table\">\r\n\r\n\t\t<RedrawTimer />\r\n\r\n        {+userAccountData?.totalDebtETH !== 0 && !isMobile ? \r\n        <div className=\"board-table__header\">\r\n            <div className=\"board-table__row board-table__row--header\">\r\n\r\n                {/* <div className=\"board-table__col board-table__col--first\">\r\n                    <div className=\"board-table__value-first value\">Asset</div>\r\n                    <div className=\"board-table__tabs\">\r\n                        <button className=\"board-table__tab active\">Your deposits</button>\r\n                        <button className=\"board-table__tab\">Your borrows</button>\r\n                    </div>\r\n                </div> */}\r\n\r\n                <div style={{justifyContent: 'start'}} className=\"board-table__col\">\r\n                    <div className=\"label label--md label--dark\">Borrowed</div>\r\n                </div>\r\n                <div className=\"board-table__col\">\r\n                    <div className=\"label label--md label--dark\">You borrowed</div>\r\n                </div>\r\n                <div className=\"board-table__col\">\r\n                    <div className=\"label label--md label--dark\" style={{ color: 'var(--btn-blue)'}}>Variable APR</div>\r\n                </div>\r\n                <div className=\"board-table__col\">\r\n                    <div style={{color: 'var(--green)'}} className=\"label label--md label--dark\">Stable APR</div>\r\n                </div>\r\n                <div className=\"board-table__col\">\r\n                    <div className='label label--md label--dark' style={{fontSize: '14px'}}>Variable/Stable APR</div>\r\n                </div>\r\n                <div style={{minWidth: '210px'}} className=\"board-table__col\">\r\n                    <div  className=\"label label--md label--dark\">Actions</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        : ''\r\n        }\r\n\r\n\r\n\r\n\t\t\r\n{/* <!-- Your borrows --> */}\r\n    { assetData.map((item, index) => {\r\n\r\n        let RAY = 10 ** 27\r\n\r\n        let variableBorrowAPR = Number(+item.variableBorrowRate / RAY) === 0\r\n\t\t\t? '0'\r\n\t\t\t: Number(+item.variableBorrowRate / RAY * 100).toFixed(4)\r\n\r\n        let stableBorrowAPR = Number(+item.stableBorrowRate / RAY) === 0\r\n\t\t\t? '0'\r\n\t\t\t: Number(+item.stableBorrowRate / RAY * 100).toFixed(4)\r\n\r\n        let ethToWeiProp = +item.decimals === 18 ? 'ether'\r\n            : +item.decimals === 6\r\n                ? 'mwei'\r\n                : 'gwei'\r\n\r\n        let currentVariableDebt = item._reserveCurrentBalanceData?.currentVariableDebt.toString()\r\n        let currentStableDebt = item._reserveCurrentBalanceData?.currentStableDebt.toString()\r\n        let selectBorrowRole = currentVariableDebt > currentStableDebt\r\n            ? currentVariableDebt\r\n            : currentStableDebt\r\n\r\n        let summCurrentBalance = selectBorrowRole\r\n            && Web3.utils.fromWei((selectBorrowRole).toString(), ethToWeiProp)\r\n\r\n\t\tlet priceOneToken = \r\n\t\t\tNumber( priceOracleETH * Web3.utils.fromWei(item.priceOracle.toString(), 'ether')  \r\n\t\t\t// Number( Web3.utils.fromWei((item.priceOracle.toString() + '0'), 'gwei') \r\n\t\t)\r\n\t\tlet resultSummForBorrowPrice = summCurrentBalance * priceOneToken\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tif(resultSummForBorrowPrice) {\r\n\t\t\t\tsetArrBorrowPrices((prevState) => +prevState + +resultSummForBorrowPrice)\r\n\t\t\t}\r\n\t\t} ,[resultSummForBorrowPrice])\r\n\r\n\t\tconsole.log('summsummCurrentBalanceCurrentBalance', summCurrentBalance)\r\n                                            \r\n    return (\r\n        <>\r\n            { ( \r\n                item._reserveCurrentBalanceData?.currentStableDebt.toString()   !== '0'\r\n                    ||\r\n\t\t\t\titem._reserveCurrentBalanceData?.currentVariableDebt.toString() !== '0' \r\n              )\r\n                &&\r\n            <div key={index} className=\"board-table__row borrows\">\r\n\r\n                <div className=\"board-table__col board-table__col--first\">\r\n                    <Icon\r\n                        showImg={true}\r\n                        showSpan={true}\r\n                        symbolChild={item.symbol}\r\n                        directory={'/assets-main'}\r\n                    />\r\n                    {/* Symbol */}\r\n                    {/* <Link href=\"#\" className=\"board-table__link\">\r\n                        <p className=\"value\">{item.symbol}</p>\r\n                    </Link> */}\r\n                </div>\r\n\r\n                <div className=\"board-table__col\">\r\n\r\n                    {isMobile ? <p>You borrowed</p> : ''}\r\n\t\t\t\t\t\r\n                    <div className=\"table-item__block-val table-value\">\r\n\r\n                        {/* <p className='table-value table-value--dark mb-8'>\r\n                            {summCurrentBalance.toString().substring(0, 6)}\r\n                        </p> */}\r\n\r\n                        <UsdPrice\r\n\t\t\t\t\t\t\tclassNameChild='table-value'\r\n                            tableBool={true} \r\n                            decimals={+item.decimals} \r\n                            currentBalanceForUserTokenChildInWei={summCurrentBalance}\r\n                            offUsdSymbols={false} \r\n\t\t\t\t\t\t\tsymbol={item.symbol}\r\n                            valueCalculate={item.priceOracle.toString()} \r\n                            selectedProvider={selectedProvider}\r\n                            swapBorrowRateModeChild={+item._reserveCurrentBalanceData?.stableRateLastUpdated}\r\n                        />\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"board-table__col\">\r\n                    {isMobile ? <p>Variable APR</p> : ''}\r\n                    <div className=\"table-item__block-val table-value\" style={{ color: 'var(--btn-blue)'}}>\r\n                        {Number(variableBorrowAPR).toFixed(4)  + ' %'}\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"board-table__col\">\r\n                    {isMobile ? <p>Stable APR</p> : ''}\r\n                    <div className=\"table-item__block-val table-value\" style={{ color: 'var(--green)'}}>\r\n                        {stableBorrowAPR  + ' %'}\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"board-table__col\">\r\n                    {isMobile ? <p>Variable/Stable APR</p> : ''}\r\n                    <AaveAction\r\n                        swapModeEnabled={'borrowType'}\r\n                        type='swap-borrow-rate'\r\n                        buttonClassNameChild={'switch__btn active'}\r\n                        apyType={+item._reserveCurrentBalanceData?.currentVariableDebt === 0 ? true : false}\r\n                        assetData={item}\r\n                        lendingPool={lendingPool}\r\n                        signer={signer} \r\n                        lendingPoolContract={lendingPoolContract} \r\n                        userAccountData={userAccountData} \r\n                    />\r\n\r\n                </div>\t\t\t\t\t\t\t\t\t\r\n\r\n                <div className=\"board-table__col\">\r\n\r\n                    {isMobile ? <p>Actions</p> : ''}\r\n                    <div className=\"board-table__buttons\">\r\n\r\n                        <AaveRouteActions type=\"borrow\" \r\n                            classNameChild='btn btn--blue btn--small'\r\n                            lendingPool={lendingPool}   \r\n                            selectedProvider={selectedProvider} \r\n                            signer={signer}   assetData={item}\r\n                            // lendingPoolContract={lendingPoolContract} userAccountData={userAccountData} \r\n                        />\r\n                        <AaveRouteActions type=\"repay\" \r\n                            classNameChild=\"btn btn--trans btn--small\"   \r\n                            lendingPool={lendingPool}   \r\n                            selectedProvider={selectedProvider}                \r\n                            // lendingPoolContract={lendingPoolContract} userAccountData={userAccountData} \r\n                            signer={signer} assetData={item}              \r\n                        />\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            \r\n}</> \r\n)})\r\n                                \r\n}\r\n    </div>\r\n    : +userAccountData?.totalDebtETH !== 0\r\n\t\t? \t<div style={{height: '200px', width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center'}}> <Loader /> </div>\r\n\t\t:   <BalanceIsStatus\r\n\t\t\t\taction={true}\r\n\t\t\t\tisBorrowZero={true}\r\n\t\t\t\twalletBalanceInHumanityDecimals={0}\r\n\t\t\t\tloadWeb3Modal={loadWeb3Modal} \r\n\t\t\t\tselectedProvider={selectedProvider} \r\n\t\t\t\tweb3Modal={web3Modal} \r\n\t\t\t/>\r\n\t\t}\r\n</div>\r\n\t\t\t\t\t\t\t\r\n\r\n</div>\r\n\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t: injectedProvider === undefined\r\n\t\t\t\t? <PlzConnectWalletMan loadWeb3Modal={loadWeb3Modal} web3Modal={web3Modal} /> \r\n\t\t\t\t: <BalanceIsStatus\r\n\t\t\t\t\taction={false}\r\n\t\t\t\t\tloadWeb3Modal={loadWeb3Modal} \r\n\t\t\t\t\tselectedProvider={selectedProvider} \r\n\t\t\t\t\tweb3Modal={web3Modal} \r\n\t\t\t\t/>\r\n\t\t\t}\r\n\r\n\r\n\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default React.memo(Dashboard)","import React from 'react';\nimport { useContentContextState } from '~/Code/Components/content_context';\n//\nlet Web3 = require('web3');\n// Props Api example.\n    // tableBool={true} decimals={value.decimals} currentBalanceForUserTokenChildInWei={token.balancee}\n    // offUsdSymbols={false} valueCalculate={value.price.priceInEth} selectedProvider={selectedProvider}\n//\nconst UsdPrice = ({\n    classNameChild,\n    valueCalculate, \n    tableBool, \n    offUsdSymbols,\n    currentBalanceForUserTokenChildInWei,\n}) => {\n// Context.\n    const { setPriceOracleETH } = useContentContextState();\n    const { priceOracleETH } = setPriceOracleETH\n//\n    let resultPriceFromOracleInUsdCurrentUserBalance;\n//\n    if(priceOracleETH) {\n        console.log('valCalcPriceOracle', priceOracleETH)\n        // Token price.\n        let valCalcPriceOracle = valueCalculate\n            ? Web3.utils.fromWei(valueCalculate.toString(), 'ether') \n            : 0\n        let activePriceForOneToken = valCalcPriceOracle * priceOracleETH\n\n        // Result for token price.\n        resultPriceFromOracleInUsdCurrentUserBalance = currentBalanceForUserTokenChildInWei // Gives prop with current balance? .\n            ? Number((currentBalanceForUserTokenChildInWei) * activePriceForOneToken).toFixed(2) // Active balance for ETH.\n            : Number(priceOracleETH * valCalcPriceOracle).toFixed(2) // Balance for ETH. \n        //\n    }\n\n//\n    return (\n        <div className={ classNameChild ? classNameChild : '' }>\n            {/* / / */}\n                { tableBool && '$ '}\n            {/* / / */}\n            { \n                // window?.ethereum.chainId === \"0x4\"\n                //     ? valueCalculate.length <= 18 ? resultFormatedValueForOneToken : resultPriceFromOracleInUsdCurrentUserBalance\n                //     : \n                resultPriceFromOracleInUsdCurrentUserBalance \n            }\n            {/* / / */}\n                { !tableBool && offUsdSymbols === undefined ? ' USD' : offUsdSymbols && ' USD' }\n            {/* / / */}\n        </div>\n    )\n//\n}\n\n\n//\nexport default React.memo(UsdPrice)","// Point every two characters.\nfunction every2NumberPoint(x) {\n    return x.toString().replace(/\\B(?=(\\d{2})+(?!\\d))/g, \".\");\n}\nfunction every3NumberCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n}\n\n\n\nexport { every2NumberPoint, every3NumberCommas }\n\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { parseUnits, formatUnits } from \"@ethersproject/units\";\nimport { ethers } from \"ethers\";\nimport { abi as IErc20 } from '~ABIs/abis/erc20.json';\n// Context.\nimport { useStaticPoolDataContext } from '~GRAPHQL/static_graph-pool-data-provider_formated';\nimport { useContentContextState } from '~/Code/Components/content_context';\n\n\nlet Web3 = require('web3');\nimport Loader from '~BASE/loader/loader'\n//\nfunction AaveAction({ swapModeEnabled, amountFromRouteUrl, assetData, signer, type, assetPrice, setLiveAsset, lendingPool, \n  buttonClassNameChild, usageAsCollateral, styleChild, \n  lendingPoolContract, apyType, borrowType, repayMode, usageAsCollateralEnabled }) {\n// - Block data.\n  // const { \n  //   userAccountData, \n  // } = useAaveData({ selectedProvider });\n  // - Context data\n// Get data from route.\n  let { underluing } = useParams();\n  // const [transactingError, setTransactingError] = useState(false)\n  const [apyTypeM, setApyTypeM] = useState()\n  useEffect(() => { setApyTypeM(apyType) }, [apyType])\n  // const [amount] = useState(amountFromRouteUrl)\n  const [buttonText, setButtonText] = useState()\n  useEffect(() => { setButtonText(apyType) }, [apyType])\n\n  // const [useMax, setUseMax] = useState(false)\n  // const [runningTransactions, setRunningTransactions] = useState()\n\n// Text status transaction\n  const { \n    actionTransactionDataState\n  } = useContentContextState()\n  const { \n    setTransactionHash, \n    transactionHash \n  } = actionTransactionDataState\n\n  const { LENDING_POOL_ADDRESS } = useStaticPoolDataContext()\n\n  //\n\t//\n\t\n//\n  const handleModalOk = async () => {\n    // let decimal = (assetData.decimals === 18) ? 'ether' : (assetData.decimals === 6) ? 'mwei' : 'gwei';\n    let mathOptionWithDec = +assetData.decimals === 18 ? 'ether' : +assetData.decimals === 8 ? 'gwei' : 'mwei'\n    let userAmountSumm = amountFromRouteUrl && Web3.utils.toWei(amountFromRouteUrl.toString(), mathOptionWithDec) // !!! FIX THERE !!!!!! 10 ** (17, PAST THERE FIX)!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n    let _amount = amountFromRouteUrl?.toString() === \"-1\" ? \n        type === 'withdraw'\n          ? '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'\n          : '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF' \n      : userAmountSumm\n\n    let _address = await signer.getAddress()\n    let erc20TokenContract = underluing && new ethers.Contract(underluing, IErc20, signer);\n    let hash\n    let _referralCode = '0'.toString()\n\n    if(type === \"deposit\") {\n      hash = await lendingPoolContract.deposit(assetData.tokenAddress, _amount, _address, _referralCode)\n    } if(type === \"withdraw\") {\n      hash = await lendingPoolContract.withdraw(assetData.tokenAddress, _amount, _address)\n    } if(type === \"borrow\") {\n      hash = await lendingPoolContract.borrow(assetData.tokenAddress, _amount, borrowType, 0, _address )\n    } if(type === \"repay\") {\n      hash = await lendingPoolContract.repay(assetData.tokenAddress, _amount, repayMode, _address)\n    } if(type === \"usage-as-collateral\" && usageAsCollateralEnabled) {\n      hash = await lendingPoolContract.setUserUseReserveAsCollateral(assetData.tokenAddress, !usageAsCollateral)\n    } if(type === \"swap-borrow-rate\") {\n      hash = await lendingPoolContract.swapBorrowRateMode(assetData.tokenAddress, assetData._reserveCurrentBalanceData.stableRateLastUpdated === 0 ? '2' : '1')\n    } if(type === \"approve\") {\n      hash = await erc20TokenContract.approve(LENDING_POOL_ADDRESS, _amount)\n    }\n\n    let _newAssetData = {};\n    let _transactionHash = hash.hash\n    _newAssetData = {_transactionHash, type}\n    setTransactionHash(_newAssetData)\n  };\n\n\n  let modal = (\n    <>\n\n      <div \n        onMouseEnter={() => { setButtonText(!apyType) }}\n        onMouseLeave={() => { setButtonText(!buttonText) }}\n        className={\n          usageAsCollateralEnabled || type === 'swap-borrow-rate'\n            ? apyTypeM\n              ? 'switch switch--green right' \n              : 'switch switch--green flex-end'         \n            : 'switch flex-center' \n        }\n      >\n\n\n        { transactionHash?._transactionHash\n          ? <div style={{position: 'absolute', top: '15px', left: '15px'}}> <Loader /> </div> \n          : null\n        }\n        \n        {/* {transactionStatus ? <div style={{height: '0px', width: '75px'}}><img /><Confirmed /></div> : null} */}\n\n        <button\n          className={buttonClassNameChild}\n          style={{\n            background: type === 'swap-borrow-rate' \n              ? buttonText \n                ? 'var(--switch-green)' \n                : 'var(--btn-blue)'\n              : '' ,\n              color: '#fff'\n          }}\n          key=\"submit\"\n          type={type}\n          onClick={handleModalOk}\n        >\n          {!swapModeEnabled\n            ? type\n\n              : type === 'usage-as-collateral'\n                ? buttonText && usageAsCollateralEnabled\n                  ? 'Yes' \n                  : 'No'\n                  \n\n            : type === 'swap-borrow-rate'\n          }\n        </button>\n\n        {/* {transactingSubmit === false && <ModalStatusTransaction type={type} statusCode={transctionInfo} message='asd' />} */}\n\n      </div> \n\n    </>\n  )\n  //\n  return (\n    <>\n      { modal }\n    </>\n  )\n  //\n}\n\nexport default React.memo(AaveAction);\n"],"sourceRoot":""}