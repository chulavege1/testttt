(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1061:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(37),c=a(13),s=a(29),o=a(51),i=a.n(o),u=a(65),m=a.n(u),d=a(12),b=a.n(d),f=a(5),p=a.n(f),v=a(6),g=a.n(v),y=a(92),E=a(32),h=a(21),w=a(25),N=a(34),j=a(35),O=a(53);function k(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==a.return||a.return()}finally{if(s)throw l}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var _=a(24),x=function(e){var t=e.selectedProvider,a=e.injectedProvider,l=e.web3Modal,c=e.assetData,o=e.reserveTokens,u=Object(s.b)().setIsMobileWidthVersion.isMobile,d=Object(r.useState)([]),f=p()(d,2),v=f[0],S=f[1],x=null==a?void 0:a.getSigner();console.log("balancdaesignerbalance",x);var A=function(){var e=b()(g.a.mark((function e(){var t,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k(o),e.prev=1,r=g.a.mark((function e(){var t,r,n,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.value,r=new j.a.Contract(t.tokenAddress,O.a,x),e.next=4,x.getAddress();case 4:return n=e.sent,console.log("reservreserveTokenseTokens",n),e.next=8,r.balanceOf(n);case 8:l=e.sent,S((function(e){return[].concat(m()(e),[{symbol:t.symbol,balancee:l.toString()}])}));case 10:case"end":return e.stop()}}),e)})),t.s();case 4:if((a=t.n()).done){e.next=8;break}return e.delegateYield(r(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),t.e(e.t1);case 13:return e.prev=13,t.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){"0"===l.cachedProvider.toString().length&&S([])}),[]),Object(r.useEffect)((function(){o&&"0"!==l.cachedProvider.toString().length&&A()}),[o]);var P=Object(r.useMemo)((function(){return[{Header:" ",accessor:function(e){return n.a.createElement("div",{style:{position:"absolute",right:"55%",top:"50%"}}," ",n.a.createElement(N.a,null)," ")}}]})),C=Object(r.useMemo)((function(){return[{Header:"Token",accessor:function(e){return n.a.createElement(h.a,{showImg:!0,showSpan:!0,symbolChild:e.symbol,directory:"/assets-main"})}},{Header:"You wallet balance",accessor:function(e){if(!(v.length>0))return u?n.a.createElement("div",{className:"walletBal"},n.a.createElement("span",null,"You wallet balance"),n.a.createElement("span",null,"-")):"-";for(var a in v){var r=v[a];if(r.symbol===e.symbol&&18==+e.decimals)return n.a.createElement("div",{className:"walletBal"},u?n.a.createElement("span",null,"You wallet balance"):"",n.a.createElement("span",null,n.a.createElement(w.a,{symbol:e.symbol,tableBool:!0,decimals:+e.decimals,currentBalanceForUserTokenChildInWei:_.utils.fromWei(null==r?void 0:r.balancee,"ether"),offUsdSymbols:!1,valueCalculate:e.priceOracle.toString(),selectedProvider:t})));if(r.symbol===e.symbol&&6==+e.decimals)return n.a.createElement("div",{className:"walletBal"},u?n.a.createElement("span",null,"You wallet balance"):"",n.a.createElement("span",null,n.a.createElement(w.a,{symbol:e.symbol,tableBool:!0,decimals:e.decimals,currentBalanceForUserTokenChildInWei:_.utils.fromWei(r.balancee,"mwei"),offUsdSymbols:!1,valueCalculate:e.priceOracle.toString(),selectedProvider:t})));if(r.symbol===e.symbol&&8==+e.decimals)return n.a.createElement("div",{className:"walletBal"},u?n.a.createElement("span",null,"You wallet balance"):"",n.a.createElement("span",null,n.a.createElement(w.a,{symbol:e.symbol,tableBool:!0,decimals:e.decimals,currentBalanceForUserTokenChildInWei:_.utils.fromWei(r.balancee,"gwei"),offUsdSymbols:!1,valueCalculate:e.priceOracle,selectedProvider:t})))}}},{Header:"Deposit APR",accessor:function(e){var t=Math.pow(10,27),a=e.liquidityRate,r=0===Number(+a/t)?"0 %":Number(+a/t*100).toFixed(4)+" %";return"WBTC"===e.symbol&&console.log("resultForAprSumm",+e.liquidityRate),u?n.a.createElement("div",{className:"value",style:{width:"100%",justifyContent:"space-between",display:"flex"}},n.a.createElement("span",null,"Deposit APR"),n.a.createElement("span",null,r)):r}},{Header:"Actions",accessor:function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"walletBal"},u?"Actions":"",n.a.createElement(E.a,{type:"deposit",classNameChild:"btn btn--red btn--small",assetData:e})))}}]})),D=Object(r.useCallback)((function(e){var t=e.columns,a=e.balanceee,l=e.data,c=(e.filterable,Object(y.useTable)({columns:t,data:l,balanceee:a},y.useSortBy)),s=c.getTableProps,o=c.getTableBodyProps,m=c.headerGroups,d=c.rows,b=c.prepareRow,f=Object(r.useState)(!1),v=p()(f,2),g=v[0],E=v[1];return Object(r.useEffect)((function(){E(!0)}),[]),n.a.createElement("div",{className:"".concat(g?"active_block":"hidden_block")},n.a.createElement("div",{className:"table__content table__content--classic table-offset"},n.a.createElement("div",{className:"scroll-content"},n.a.createElement("table",i()({className:"table"},s()),u?"":n.a.createElement("thead",null,m.map((function(e){return n.a.createElement("tr",i()({className:"table-header__body"},e.getHeaderGroupProps()),e.headers.map((function(e){return n.a.createElement("th",i()({className:"table-header__col"},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),n.a.createElement("span",null,e.isSorted?e.isSortedDesc?" ðŸ”½":" ðŸ”¼":""))})))}))),n.a.createElement("tbody",o(),d.map((function(e){return b(e),n.a.createElement("tr",i()({style:{width:"100%"},className:"table-item table-item table-value table-value--dark mb-8"},e.getRowProps()),e.cells.map((function(e){return n.a.createElement("td",i()({className:"dataTables"},e.getCellProps()),e.render("Cell"))})))})))))))}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{data:0===(null==c?void 0:c.length)&&o?o:c,columns:0===c.length?P:C}))},A=n.a.memo(x),P=a(252),C=a.n(P),D=a(57),F=a(54),M=a(24),I=function(e){var t=e.injectedProvider,a=e.selectedProvider,o=e.web3Modal,i=e.loadWeb3Modal,u=e.assetDataOneReserves,m=Object(c.b)().setUserAccountData,d=Object(s.b)().setIsMobileWidthVersion.isMobile,f=Object(l.h)(),v=f.symbol,y=f.underluing,N=null==a?void 0:a.getSigner(),k=Object(r.useState)(!1),S=p()(k,2),_=S[0],x=S[1];Object(r.useEffect)((function(){x(!0)}),[]),Object(r.useEffect)((function(){window.scroll(0,250)}),[]);var A=Object(r.useState)(),P=p()(A,2),I=P[0],B=P[1];console.log("dasdadsadasdasd",I);var T=function(){var e=b()(g.a.mark((function e(){var t,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.a.Contract(y,O.a,N),e.next=3,N.getAddress();case 3:return a=e.sent,e.next=6,t.balanceOf(a);case 6:r=e.sent,B((null==u||u.decimals,r.toString()));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){y&&null!=o&&o.cachedProvider&&T()}),[y&&(null==o?void 0:o.cachedProvider)]);var W,R,U,H,$,L,q,Y,G=Object(r.useState)(),V=p()(G,2),J=V[0],z=V[1],K=Object(r.useState)(!1),Q=p()(K,2),X=Q[0],Z=Q[1],ee=(R=(W={className:"amount__input",type:"text",walletBalanceInHumanityDecimals:J}).className,U=W.type,H=Object(r.useState)(),$=p()(H,2),L=$[0],q=$[1],Y=n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{className:R,value:L,maxLength:+(null==u?void 0:u.decimals),onChange:function(e){return+e.target.value>J?q(J):q(e.target.value)},type:U}),n.a.createElement("button",{className:"amount__btn",onClick:function(){q(J),Z(!0)},type:"depositAll"},"Max")),[L,Y]),te=p()(ee,2),ae=te[0],re=te[1];console.log("c",I),console.log("walletBalanceInHubalaassetDataOneReservesncemanityDecimals",u),Object(r.useEffect)((function(){u&&I&&(18==+u.decimals?z(M.utils.fromWei(I,"ether")):8==+u.decimals?z(M.utils.fromWei(I,"gwei")):6==+u.decimals&&z(M.utils.fromWei(I,"mwei")))}),[u&&I]);var ne=Object(r.useState)(),le=p()(ne,2),ce=le[0],se=le[1];Object(r.useEffect)((function(){if(!0===ce){var e=setTimeout((function(){se(!1)}),400);return function(){return clearTimeout(e)}}}),[ce]),console.log("amountDepositAll",X),console.log("maxAmountToDeposdsadt",t),console.log("walletBalanceInHumanityDecimalsdsadas",J);var oe=Object(l.f)();18==+(null==u?void 0:u.decimals)||null==u||u.decimals;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"".concat(_?"active_block":"hidden_block")},u&&null!=o&&o.cachedProvider&&"0"!==J&&m.userAccountData?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col card grow-1"},n.a.createElement(E.a,{type:"back",classNameChild:"btn btn--red btn--small"}),n.a.createElement("div",{className:"".concat(_?"ahashakeheartache":""," card__content card__content--md p-60-24 m-auto")},n.a.createElement(h.a,{showImg:!0,showSpan:!1,symbolChild:v,directory:"/assets-main"}),n.a.createElement("div",{className:"detail__top mb-40 text-center"},n.a.createElement("div",{className:"df-center mb-20"},n.a.createElement("h2",{className:"title"},"How much would you like to deposit?"),n.a.createElement("div",{className:"ml-10"})),n.a.createElement("p",{className:"description"},"Please enter an amount you would like to deposit. The maximum amount you can deposit is shown below.")),n.a.createElement("div",{className:"detail__body"},n.a.createElement("div",{className:"grid-row grid-row--mb-20 mt-50"},!d&&n.a.createElement("div",{className:" ".concat(d?"label label--md":"label label--md flex-col"," ")},"Available to deposit"),n.a.createElement("div",{className:"grid-row__right"},n.a.createElement("div",{className:"flex-col"},d&&n.a.createElement("div",{className:" ".concat(d?"label label--md":"label label--md flex-col"," ")},"Available to deposit"),n.a.createElement("div",{className:"label"},n.a.createElement("div",{className:"value"},J&&J+" "+v)),n.a.createElement("div",{className:"label"},n.a.createElement(w.a,{symbol:null==u?void 0:u.symbol,tableBool:!0,decimals:+(null==u?void 0:u.decimals),offUsdSymbols:!1,valueCalculate:null==u?void 0:u.priceOracle.toString(),selectedProvider:a,currentBalanceForUserTokenChildInWei:J&&J}))))),n.a.createElement("div",{className:"flex a-center"},n.a.createElement("div",{className:"grid-row__base"},n.a.createElement("div",{className:"amount mb-40 ".concat(ce?"ahashakeheartache":"")},re))),n.a.createElement("div",{className:"flex a-center mt-20"},n.a.createElement("button",{className:"btn btn--red btn--big m-auto ",onClick:function(){var e,t;void 0!==ae?(e=ae,t=C.a.stringify({amount:e}),oe.push("".concat(oe.location.pathname,"/").concat(t))):se(!0)}},"Continue")))))):t?n.a.createElement(F.a,{selectedProvider:a,web3Modal:o,walletBalanceInHumanityDecimals:"0"===J?0:void 0,symbol:v,action:"deposit",loadWeb3Modal:i}):n.a.createElement(D.a,{loadWeb3Modal:i,web3Modal:o})))},B=n.a.memo(I),T=a(75),W=a(96),R=(a(24),function(e){var t=e.selectedProvider,a=e.injectedProvider,o=e.loadWeb3Modal,i=e.web3Modal,u=e.assetDataOneReserves,m=Object(c.b)(),d=m.contracts,f=m.setUserAccountData,v=m.actionTransactionDataState,y=m.setPoolDataState,k=y.assetData,S=f.userAccountData,_=v.transactionReceipt,x=v.transactionHash,A=d.lendingPoolContract,P=Object(s.b)(),C=P.setIsMobileWidthVersion,M=P.LENDING_POOL_ADDRESS,I=C.isMobile,B=Object(l.h)(),R=B.symbol,U=B.amount,H=B.underluing,$=U.replace(/[^0-9.,-]/g,"").toString(),L=Object(r.useState)(),q=p()(L,2),Y=q[0],G=q[1],V=function(){var e=b()(g.a.mark((function e(){var t,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.a.Contract(H,O.a,J),e.next=3,J.getAddress();case 3:return a=e.sent,e.next=6,t.balanceOf(a);case 6:r=e.sent,G((null==u||u.decimals,r.toString()));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){H&&k.length===y.assetsActiveLength&&V()}),[u]);var J=null==t?void 0:t.getSigner(),z=Object(r.useState)(),K=p()(z,2),Q=K[0],X=K[1],Z=function(){var e=b()(g.a.mark((function e(){var t,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.a.Contract(H,O.a,J),e.next=3,J.getAddress();case 3:return a=e.sent,e.next=6,t.allowance(a,M);case 6:r=e.sent,X(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Z()}),[]),console.log("allowallowanceStateanceState",Q);var ee=Object(r.useState)(0),te=p()(ee,2),ae=te[0],re=te[1];Object(r.useEffect)((function(){var e;e=U.substring(7),console.log("amountMinusString",e),re(e)}),[U,u]);var ne=Object(r.useState)(!1),le=p()(ne,2),ce=le[0],se=le[1];return Object(r.useEffect)((function(){se(!0)}),[]),Object(r.useEffect)((function(){window.scroll(0,250)}),[]),u&&a?n.a.createElement("div",{className:"".concat(ce?"active_block":"hidden_block")},n.a.createElement("div",{className:"col card mb-30"}),n.a.createElement("div",{className:"".concat(1===(null==_?void 0:_.status)?"borderGreen":""," col card grow-1")},n.a.createElement(E.a,{type:"back"}),n.a.createElement("div",{className:"".concat(ce?"ahashakeheartache":""," card__content--md card__content card__content--md p-60-24 m-auto")},n.a.createElement(h.a,{showImg:!0,showSpan:!1,symbolChild:R,directory:"/assets-main"}),n.a.createElement(W.a,{action:"Deposit"}),n.a.createElement("div",{className:"detail__body mt-40"},n.a.createElement("div",{className:" ".concat(I?"mobile-detail-body":"grid-row grid-row--mb-20 mt-50"," ")},!I&&n.a.createElement("div",{style:{textAlign:"left"},className:" ".concat(I?"label label--md flex-col":"label label--md"," ")},U?"Amount":"Available to deposit"),n.a.createElement("div",{className:"grid-row__right"},I&&n.a.createElement("div",{className:" ".concat(I?"label label--md ":"label label--md"," ")},U?"Amount":"Available to deposit"),n.a.createElement("div",{className:"value"},ae&&$)),n.a.createElement("div",{className:"grid-row__right"},n.a.createElement("div",{className:"label label--md"},ae&&n.a.createElement(w.a,{symbol:null==u?void 0:u.symbol,tableBool:!0,decimals:+(null==u?void 0:u.decimals),offUsdSymbols:!1,valueCalculate:null==u?void 0:u.priceOracle,selectedProvider:t,currentBalanceForUserTokenChildInWei:ae})))),n.a.createElement("div",{className:"grid-row grid-row--mb-40"},n.a.createElement("div",{className:"grid-row__base"},n.a.createElement("div",{className:"progress"},n.a.createElement("ul",{className:"progress__steps \n\t\t\t\t\t\t\t\t\t\t\t".concat(1===(null==_?void 0:_.status)?"step-3":null!=x&&x._transactionHash?"step-2":"step-1")},n.a.createElement("li",null),n.a.createElement("li",null),n.a.createElement("li",null),n.a.createElement("li",null),n.a.createElement("li",null)),n.a.createElement("ul",{className:"progress__labels"},Q&&"0"!==Q.toString()?"":n.a.createElement("li",{className:"label--md label--dark"},"Approve"),n.a.createElement("li",{className:"label--md label--dark"},"Deposit"),n.a.createElement("li",{className:"label--md label--dark"},"Finished"))))),n.a.createElement("div",{className:"grid-row"},n.a.createElement("div",{className:"grid-row__right a-end"},null!=x&&x._transactionHash?n.a.createElement(N.a,null):1!==(null==_?void 0:_.status)&&n.a.createElement(T.a,{type:Q&&"0"===Q.toString()?"approve":"deposit",buttonClassNameChild:"btn btn--red btn--small",divWrapperClassNameChild:"text-center",signer:J,amountFromRouteUrl:U.substring(7).toString(),lendingPoolContract:A,userAccountData:S,selectedProvider:t,assetData:u}))))))):void 0===u?n.a.createElement(F.a,{loadWeb3Modal:o,action:"deposit",selectedProvider:t,web3Modal:i,walletBalanceInHumanityDecimals:Y}):n.a.createElement(D.a,{loadWeb3Modal:o,web3Modal:i})}),U=n.a.memo(R),H=a(178),$=function(e){var t=e.injectedProvider,a=e.selectedProvider,s=e.web3Modal,o=e.loadWeb3Modal,i=Object(l.h)().symbol,u=Object(c.b)(),m=u.setOnePoolDataState,d=u.setPoolDataState,b=u.setReserveTokensContext,f=d.assetData;Object(r.useEffect)((function(){var e;(null==f?void 0:f.length)===d.assetsActiveLength&&(null===(e=m.assetDataOneReserves)||void 0===e?void 0:e.symbol)!==i&&(m.setSymbol(i),console.log("walletBalanceInHumanityDecimals"))}),[f]);var p=Object(l.g)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:""},n.a.createElement("div",{className:"dashboard active"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"dashboard__body row-flex flex-col"},i&&n.a.createElement("div",{className:"col card mb-30"},n.a.createElement(H.a,{selectedProvider:a})),n.a.createElement(l.c,{location:p},n.a.createElement(l.a,{exact:!0,path:"/deposit/:symbol/:underluing",component:function(){return n.a.createElement(B,{assetDataOneReserves:m.assetDataOneReserves,web3Modal:s,loadWeb3Modal:o,selectedProvider:a,injectedProvider:t})}}),n.a.createElement(l.a,{path:"/deposit/:symbol/:underluing/:amount?",component:function(){return n.a.createElement(U,{injectedProvider:t,loadWeb3Modal:o,selectedProvider:a,web3Modal:s,assetData:f,reserveTokens:b.reserveTokens,assetDataOneReserves:m.assetDataOneReserves})}})),n.a.createElement(A,{selectedProvider:a,injectedProvider:t,web3Modal:s,assetData:f,reserveTokens:b.reserveTokens})))))))};t.default=n.a.memo($)},252:function(e,t,a){"use strict";const r=a(249),n=a(250),l=a(251),c=a(423),s=Symbol("encodeFragmentIdentifier");function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?n(e):e}function m(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=m(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function b(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=a):r[e]=a};case"bracket":return(e,a,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=[a]:r[e]=a};case"colon-list-separator":return(e,a,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=[a]:r[e]=a};case"comma":case"separator":return(t,a,r)=>{const n="string"==typeof a&&a.includes(e.arrayFormatSeparator),l="string"==typeof a&&!n&&u(a,e).includes(e.arrayFormatSeparator);a=l?u(a,e):a;const c=n||l?a.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===a?a:u(a,e);r[t]=c};case"bracket-separator":return(t,a,r)=>{const n=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!n)return void(r[t]=a?u(a,e):a);const l=null===a?[]:a.split(e.arrayFormatSeparator).map(t=>u(t,e));void 0!==r[t]?r[t]=[].concat(r[t],l):r[t]=l};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const n of e.split("&")){if(""===n)continue;let[e,c]=l(t.decode?n.replace(/\+/g," "):n,"=");c=void 0===c?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?c:u(c,t),a(u(e,t),c,r)}for(const e of Object.keys(r)){const a=r[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=b(a[e],t);else r[e]=b(a,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const a=r[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(a):e[t]=a,e},Object.create(null))}t.extract=d,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],r=function(e){switch(e.arrayFormat){case"index":return t=>(a,r)=>{const n=a.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[i(t,e),"[",n,"]"].join("")]:[...a,[i(t,e),"[",i(n,e),"]=",i(r,e)].join("")]};case"bracket":return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[i(t,e),"[]"].join("")]:[...a,[i(t,e),"[]=",i(r,e)].join("")];case"colon-list-separator":return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[i(t,e),":list="].join("")]:[...a,[i(t,e),":list=",i(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return a=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:(n=null===n?"":n,0===r.length?[[i(a,e),t,i(n,e)].join("")]:[[r,i(n,e)].join(e.arrayFormatSeparator)])}default:return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,i(t,e)]:[...a,[i(t,e),"=",i(r,e)].join("")]}}(t),n={};for(const t of Object.keys(e))a(t)||(n[t]=e[t]);const l=Object.keys(n);return!1!==t.sort&&l.sort(t.sort),l.map(a=>{const n=e[a];return void 0===n?"":null===n?i(a,t):Array.isArray(n)?0===n.length&&"bracket-separator"===t.arrayFormat?i(a,t)+"[]":n.reduce(r(a),[]).join("&"):i(a,t)+"="+i(n,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,r]=l(e,"#");return Object.assign({url:a.split("?")[0]||"",query:f(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0,[s]:!0},a);const r=m(e.url).split("?")[0]||"",n=t.extract(e.url),l=t.parse(n,{sort:!1}),c=Object.assign(l,e.query);let o=t.stringify(c,a);o&&(o="?"+o);let u=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(u="#"+(a[s]?i(e.fragmentIdentifier,a):e.fragmentIdentifier)),`${r}${o}${u}`},t.pick=(e,a,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[s]:!1},r);const{url:n,query:l,fragmentIdentifier:o}=t.parseUrl(e,r);return t.stringifyUrl({url:n,query:c(l,a),fragmentIdentifier:o},r)},t.exclude=(e,a,r)=>{const n=Array.isArray(a)?e=>!a.includes(e):(e,t)=>!a(e,t);return t.pick(e,n,r)}},423:function(e,t,a){"use strict";e.exports=function(e,t){for(var a={},r=Object.keys(e),n=Array.isArray(t),l=0;l<r.length;l++){var c=r[l],s=e[c];(n?-1!==t.indexOf(c):t(c,s,e))&&(a[c]=s)}return a}}}]);
//# sourceMappingURL=8.index.js.map